#!/bin/sh

[ ! "$OPENSIM" ] && OPENSIM=opensim
[ ! "$PGM" ] && PGM=$(basename "$0")

. $(which helpers) || exit 1

BIN=$(dirname  $(readlink -f "$0"))
OSDDIR=$(dirname "$BIN")
for etc in $OSDDIR/etc /etc/$OPENSIM ~/etc/$OPENSIM
do
    [ -d "$etc" ] && ETC=$etc
    [ -f "$etc/opensim.conf" ] && . $ETC/opensim.conf 2>/dev/null
done

LIB=$OSDDIR/lib
OSBIN="$LIB/$OPENSIM/bin"
VAR=$OSDDIR/var
SRC=$OSDDIR/src
CACHE=$OSDDIR/cache
LOGS=$OSDDIR/logs

[ -f "$OSBIN/OpenSim.exe" ] || log 1 "$OSBIN/OpenSim.exe" opensim library not found
